<html>
<head>
	<meta charset="UTF-8">
	<title>模板控件</title>
	<script src="../laytpl/laytpl.js" type="text/javascript"></script>

</head>
<body>
    <h1>异步</h1>
    <div id="view"></div>
    <div style="width:800px; margin:100px 0 0; font-size:14px;"></div>
    <h1>同步</h1>
    <div id="view2"></div>
</body>
</html>
<script>
    var tplData = '<h3>{{ d.title }}</h3>'+
        '<p class="intro">{{ d.intro }}</p>'+
        '<ul>'+
        '{{# for(var i = 0, len = d.list.length; i < len; i++){ }}'+
            '<li>'+
                '<span>{{ d.list[i].name }}</span>'+
                '<span>所在城市：{{ d.list[i].city }}</span>'+
            '</li>'+
        '{{# } }}' +
        '</ul>';
    var data = {
        title: '前端圈',
        intro: '一群码js的骚年，幻想改变世界，却被世界改变。',
        list: [{name: '贤心', city: '杭州'},  {name: '谢亮', city: '北京'}, {name: '浅浅', city: '杭州'}, {name: 'Dem', city: '北京'}]
    };

    //方式一：异步渲染（推荐）
    laytpl(tplData).render(data, function(render){
        document.getElementById('view').innerHTML = render;
    });

    //方式二：同步渲染：
    var render = laytpl(tplData).render(data);
    document.getElementById('view2').innerHTML = render;
</script>